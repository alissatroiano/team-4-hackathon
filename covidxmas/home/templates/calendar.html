{% extends 'base_template.html' %}

{% load static %}
{% block content %}
    <!-- Advent calendar grid section-->
    <section>
        <div class="calendar-container">
            {% for day in calendar.dates.all %}
            <div class="day day{{forloop.counter}}" data-gift="{{day.gift}}" data-content="{{day.content}}">
                <div class="cover cover{{forloop.counter}}">
                    {{forloop.counter}}
                </div>
            </div>
            {% endfor %}
            <div class="day team">
                <div class="cover coverteam">Team Calendarers</div>
            </div>
        </div>
    </section>


    <div class="modal fade" id="showCalendarDay" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-body">
              No Content
            </div>
          </div>
        </div>

{% endblock %}

{% block extra_js %}
<script>
    $('.day').click(function(){
        let gift = $(this).data('gift');
        let content = $(this).data('content');
        if(!content) {

        } else {
            switch(gift){
            case 1:
                console.log(gift == 1)
                // For an image we create a new img tag
                // and render it in the modal
                let _img = $(`<img src="${content}">`);
                _img.css({'width':'100%'})
                $('#showCalendarDay .modal-body').html(_img)
                break;
            case 2:
                let video = `<iframe width="100%" height="315" src="${content}"
                                title="YouTube video player" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>`;
                $('#showCalendarDay .modal-body').html(video);
                break;
            case 3:
                $('#showCalendarDay .modal-body').text(content)
                break;
            default:
            $('#showCalendarDay .modal-body').text(content)
                break;

            }
        }
        $('#showCalendarDay').modal('toggle')
    })
</script>
{% endblock %}